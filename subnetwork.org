:PROPERTIES:
:ID:       8D997FDE-D06F-41AF-88AC-E9546FE65127
:END:
#+TITLE: Subnetwork

+ Tag :: [[id:790FB5EF-E3B4-4900-9916-C845182C8844][network]]

[[id:6A3F1F42-0B72-4F52-A4CE-74C06816495C][IP]] 地址由 *网络号* 和 *主机号* 组成，IP 路由时，会先将数据报发送到 *目标网络* 的路由器，然后再由目标网络路由器转发到网络内的主机。

早期，简单将 IP 地址划分为了 A、B、C 三类，各自拥有一定数量的网络号，但随着接入 Internet 的网络越来越多，网络号就变得不够用了，于是就衍生出来了子网的概念。

子网在原来 A、B、C 三类 IP 地址的主机号部分分了几位出来作为子网，剩下的几位主机号，此时，IP 数据报发送方式为：
1. 发送到 A、B、C 三类 IP 地址网络号对应网络的路由器
2. 路由器根据子网掩码确定 IP 所属子网，发送到对应子网路由器
3. 子网路由器将 IP 数据报转发到对应主机

这样一来，一定程度上解决了网络号不足的问题，同时也减小了顶级路由器路由表的大小，提高路由效率。

* 子网掩码
  子网掩码用于确认当前 IP 地址网络号，子网掩码中 1 的个数表名网络号占用的位数，这时，IP 地址可以写成 =255.254.0.0/15= 的形式。

  相关问题：
  + 子网掩码为 255.255.255.255 的作用？

    根据 [[id:9AF8F3A5-805F-4E3A-A870-997EACD6F72F][route table]] 进行路由时，会根据 Longest Prefix Matching 进行匹配，当 mask 为 255.255.255.255 时，就相当于是一个精确匹配条目，只有有对应 IP 地址的这样的记录，
    就只会根据这个条目对应的规则进行路由。

    在存在类似需求时，就可以通过添加 /32 进行精确路由。

