:PROPERTIES:
:ID:       EEC6D5E9-20D2-44C6-9B42-71A1D293EABC
:END:
#+TITLE: overlay & underlay

网络是一个分层的架构，就像发送三层（IP）数据时，需要知道目标二层（MAC）地址一样，通过 overlay 网络发送数据时，我们也需要知道对应的 underlay 网络地址。

在 [[id:7dbbe653-ae4e-42e6-8976-cee9d6e58878][VXLAN]] 网络中，我们就需要维护 overlay ip 对应的 vetp(underlay ip) 信息，这样的信息可以人工来维护，也可以软件来自动维护。

同时，在分层架构中，不同层包的封装和取出也需要有对应的组件来完成，也就是说在一个分层的网络中需要有组件负责：路由信息的维护、数据包的封装和取出、地址信息的分配等。

在网络架构中识别系统中的这些关键组件，可以有助于理解架构是怎样的。

